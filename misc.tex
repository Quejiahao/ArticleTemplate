% !TeX program	= xelatex
% !TeX encoding	= UTF-8

\geometry{left = 3.18 cm, right = 3.18 cm, top = 2.54 cm, bottom = 2.54 cm,	% 页边距
	headheight = 40 pt, headsep = 15 pt,	% 页眉距离
	marginparwidth = 4 cm, marginparsep = 10 pt}	% 边注设置
%\renewcommand{\baselinestretch}{1.5}	% 行距, 系统默认约 1.2, ctex 默认约 1.56
%\linespread{1}	% 行距

\newcommand\blfootnote[1]{%
	\begingroup%
	\renewcommand\thefootnote{}\footnote{#1}%
	\addtocounter{footnote}{-1}%
	\endgroup
}

\newcommand{\upcite}[1]{\textsuperscript{\textsuperscript{\cite{#1}}}}
\newcommand{\upref}[1]{\textsuperscript{\textsuperscript{\ref{#1}}}}

\setcounter{MaxMatrixCols}{20}	% 矩阵最大列数

% 矩阵行距
\makeatletter
\renewcommand*\env@matrix[1][\arraystretch]{%
	\edef\arraystretch{#1}%
	\hskip -\arraycolsep
	\let\@ifnextchar\new@ifnextchar
	\array{*\c@MaxMatrixCols c}}
\makeatother

% 水印
\newcommand{\watermark}[3]{\AddToShipoutPictureBG{
\parbox[b][\paperheight]{\paperwidth}{
\vfill%
\centering%
\tikz[remember picture, overlay]%
	\node [rotate = #1, scale = #2] at (current page.center)%
		{\textcolor{gray!80!cyan!30}{#3}};
\vfill}}}
%\newcommand{\watermarkoff}{\ClearShipoutPictureBG}

%\xeCJKsetup{CJKecglue={}}

\raggedbottom	% 防止报 Underfull \vbox (badness 10000) has occurred while \output is active []

\allowdisplaybreaks[4]	% 公式内允许换页

%\pagenumbering{arabic}

\hypersetup
{
	% 颜色
	colorlinks	= true,
	linkcolor	= black,
	urlcolor	= black,
	citecolor	= black,
	anchorcolor	= blue,
}

\algnewcommand\algorithmicto{\textbf{to}}
\algrenewtext{For}[3]%
{\algorithmicfor\ #1 $\gets$ #2 \algorithmicto\ #3 \algorithmicdo}

\makeatletter
\newcommand{\globalcolor}[1]{%
	\color{#1}\global\let\default@color\current@color
}
\def\@font@warning#1{\@font@info{#1}}	% 抑制 fandol 字体警告
\makeatother

\definecolor{scired}{RGB}{192, 0, 0}
\definecolor{sciblue}{RGB}{0, 83, 159}
\definecolor{scibrown}{RGB}{153, 102, 51}
